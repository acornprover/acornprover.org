"use strict";(self.webpackChunkacornprover_org=self.webpackChunkacornprover_org||[]).push([[5687],{3283:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>c,frontMatter:()=>i,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"tutorial/indirect-proofs","title":"Indirect Proofs","description":"Sometimes a proof doesn\'t fit naturally into a format where each step follows naturally from the steps before it. For example, we might want an \\"indirect proof\\" - where you assume something, then prove a contradiction, and thus conclude that your initial assumption was false.","source":"@site/docs/tutorial/indirect-proofs.md","sourceDirName":"tutorial","slug":"/tutorial/indirect-proofs","permalink":"/docs/tutorial/indirect-proofs","draft":false,"unlisted":false,"editUrl":"https://github.com/acornprover/acornprover.org/edit/master/docs/tutorial/indirect-proofs.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"sidebar","previous":{"title":"Multi-step Proofs","permalink":"/docs/tutorial/multi-step-proofs"},"next":{"title":"Induction","permalink":"/docs/tutorial/induction"}}');var r=t(4848),s=t(8453);const i={sidebar_position:2},a="Indirect Proofs",d={},h=[{value:"Our Starting Point",id:"our-starting-point",level:2},{value:"Throdd",id:"throdd",level:2},{value:"If Statements",id:"if-statements",level:2},{value:"The Other Way Around",id:"the-other-way-around",level:2},{value:"Comments",id:"comments",level:2},{value:"If-Else Statements",id:"if-else-statements",level:2},{value:"Using the division theorem is cheating!",id:"using-the-division-theorem-is-cheating",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"indirect-proofs",children:"Indirect Proofs"})}),"\n",(0,r.jsx)(n.p,{children:'Sometimes a proof doesn\'t fit naturally into a format where each step follows naturally from the steps before it. For example, we might want an "indirect proof" - where you assume something, then prove a contradiction, and thus conclude that your initial assumption was false.'}),"\n",(0,r.jsx)(n.p,{children:'To demonstrate this, let\'s define a more profound mathematical concept, building on our previous innovation of "threeven".'}),"\n",(0,r.jsx)(n.h2,{id:"our-starting-point",children:"Our Starting Point"}),"\n",(0,r.jsxs)(n.p,{children:["If you've been following along linearly, great. If not, start with the ",(0,r.jsxs)(n.a,{href:"https://github.com/acornprover/acornprover.org/blob/master/examples/threeven.ac",children:[(0,r.jsx)(n.code,{children:"threeven"})," code"]}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-acorn",children:"from nat import Nat\nnumerals Nat\n\ndefine threeven(n: Nat) -> Bool {\n    exists(d: Nat) {\n        3 * d = n\n    }\n}\n\ntheorem zero_is_threeven {\n    threeven(0)\n}\n\ntheorem threeven_plus_three(n: Nat) {\n    threeven(n) -> threeven(n + 3)\n} by {\n    let d: Nat satisfy {\n        3 * d = n\n    }\n    3 * (d + 1) = n + 3\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"throdd",children:"Throdd"}),"\n",(0,r.jsx)(n.p,{children:'A number that is not even is called "odd". Naturally, a number that is not threeven is called "throdd". Enter this definition:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-acorn",children:"define throdd(n: Nat) -> Bool {\n    not threeven(n)\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Notice the ",(0,r.jsx)(n.code,{children:"not"})," keyword, to negate a boolean value. The boolean functions ",(0,r.jsx)(n.code,{children:"and"})," and ",(0,r.jsx)(n.code,{children:"or"})," are also keywords."]}),"\n",(0,r.jsx)(n.h2,{id:"if-statements",children:"If Statements"}),"\n",(0,r.jsx)(n.p,{children:"The astute reader may notice that every threeven number is followed by a throdd number. Let's express that as a theorem."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-acorn",children:"theorem throdd_follows_threeven(n: Nat) {\n    threeven(n) -> throdd(n + 1)\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"You could prove this directly, but it's more natural to think of this as an indirect proof. If you had two threeven numbers next to each other, well, they can't both be divisible by three. What do you get if you divide out the threes?"}),"\n",(0,r.jsxs)(n.p,{children:["You can express this line of reasoning with an ",(0,r.jsx)(n.code,{children:"if"})," statement."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-acorn",children:"theorem throdd_follows_threeven(n: Nat) {\n    threeven(n) -> throdd(n + 1)\n} by {\n    if threeven(n + 1) {\n        let a: Nat satisfy {\n            3 * a = n\n        }\n        let b: Nat satisfy {\n            3 * b = n + 1\n        }\n        3 * (b - a) = 1\n        false\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This is an indirect proof. The ",(0,r.jsx)(n.code,{children:"if"})," keyword starts a block in which ",(0,r.jsx)(n.code,{children:"threeven(n + 1)"})," is assumed. Inside the block, we have a multi-step proof. We can define new variables ",(0,r.jsx)(n.code,{children:"a"})," and ",(0,r.jsx)(n.code,{children:"b"})," that are only usable inside this block."]}),"\n",(0,r.jsxs)(n.p,{children:["Finally, the block is concluded with a line just containing ",(0,r.jsx)(n.code,{children:"false"}),". This indicates we have proven a contradiction. Once you prove a contradiction inside a block, Acorn knows that the negated assumption is true outside the block."]}),"\n",(0,r.jsx)(n.p,{children:"You can do an entire proof this way, to get a traditional indirect proof. You can also use this method as just part of a proof. Let's do a more complicated example."}),"\n",(0,r.jsx)(n.h2,{id:"the-other-way-around",children:"The Other Way Around"}),"\n",(0,r.jsx)(n.p,{children:"Symmetry is slightly spoiled here, because threeven does not always follow odd. But it's close! Just a bit messier."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-acorn",children:"theorem threeven_kinda_follows_throdd(n: Nat) {\n    throdd(n) -> threeven(n + 1) or threeven(n + 2)\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:'There are a bunch of different ways to prove this. Philosophically, it feels like a "proof by cases". You hack away at the different possibilities until they are all handled. Here\'s one way to do it:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-acorn",children:"theorem threeven_kinda_follows_throdd(n: Nat) {\n    throdd(n) -> threeven(n + 1) or threeven(n + 2)\n} by {\n    // By the division theorem\n    let (d: Nat, r: Nat) satisfy {\n        d * 3 + r = n and r < 3\n    }\n\n    // The impossible case\n    if r = 0 {\n        threeven(n)\n        false\n    }\n\n    // The possible cases\n    if r = 1 {\n        3 * (d + 1) = n + 2\n        threeven(n + 2)\n    } else {\n        r = 2\n        3 * (d + 1) = n + 1\n        threeven(n + 1)\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"This proof uses some parts of the Acorn language that we haven't seen before."}),"\n",(0,r.jsx)(n.h2,{id:"comments",children:"Comments"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-acorn",children:"// By the division theorem\n"})}),"\n",(0,r.jsx)(n.p,{children:"This is a comment. It's there to help human readers understand what's going on. It's a good idea to comment your code."}),"\n",(0,r.jsx)(n.p,{children:"You don't need to formally refer to the division theorem in order to use it. Acorn indexes the available theorems to do that lookup for you. It's part of the standard library, and looks like:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-acorn",children:"theorem division_theorem(m: Nat, n: Nat) {\n    0 < n -> exists(q: Nat, r: Nat) {\n        r < n and m = q * n + r\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"You can see what theorems are used to prove any statement by clicking on it, and looking in the Assistant window to see the full, formal derivation. It'll link to all of the theorems used."}),"\n",(0,r.jsx)(n.p,{children:"(It might not actually use the division theorem. That's just how I would do it, if I was the AI. Click the statement and see!)"}),"\n",(0,r.jsx)(n.p,{children:"The ideal workflow is that you might not know what exactly is in the standard library, but that's okay. You just write your proof, and keep simplifying the steps that Acorn doesn't understand until it accepts the whole thing."}),"\n",(0,r.jsx)(n.h2,{id:"if-else-statements",children:"If-Else Statements"}),"\n",(0,r.jsxs)(n.p,{children:["The other part of this proof we haven't seen before is the ",(0,r.jsx)(n.code,{children:"else"}),' keyword. This lets us do a "proof by cases".']}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-acorn",children:"if r = 1 {\n    3 * (d + 1) = n + 2\n    threeven(n + 2)\n} else {\n    r = 2\n    3 * (d + 1) = n + 1\n    threeven(n + 1)\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["There are two blocks delineated by ",(0,r.jsx)(n.code,{children:"{ ... }"})," braces here. In the first block, we can assume ",(0,r.jsx)(n.code,{children:"r = 1"}),", and we prove ",(0,r.jsx)(n.code,{children:"threeven(n + 2)"}),". In the second block, we can assume ",(0,r.jsx)(n.code,{children:"not (r = 1)"}),", and we prove ",(0,r.jsx)(n.code,{children:"threeven(n + 1)"}),". As a result of this statement, the outside scope can conclude ",(0,r.jsx)(n.code,{children:"threeven(n + 1) or threeven(n + 2)"}),". So the proof works."]}),"\n",(0,r.jsx)(n.h2,{id:"using-the-division-theorem-is-cheating",children:"Using the division theorem is cheating!"}),"\n",(0,r.jsx)(n.p,{children:'Well, fair enough. Aesthetically this might be a little backwards, because in some sense the division theorem is more advanced than the concept of "threeven". Taking commutativity for granted is one thing. But should a tutorial really rely on the division theorem?'}),"\n",(0,r.jsxs)(n.p,{children:["We could also do a different sort of proof. Next, let's talk about ",(0,r.jsx)(n.a,{href:"/docs/tutorial/induction/",children:"induction"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var o=t(6540);const r={},s=o.createContext(r);function i(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);